<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Http Request Test</title>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bulma@0.8.0/css/bulma.min.css"
    />
    <link rel="stylesheet" href="style.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
  </head>
  <body>
    <section class="hero is-small is-dark is-bold">
      <div class="hero-body">
        <h1 class="title">Http Request Test</h1>
      </div>
    </section>
    <section class="section is-small">
      <form action="javascript:submit()" id="requestForm">
        <div class="container">
          <div class="section-item" id="main">
            <div class="field has-addons is-grouped">
              <div class="control">
                <div class="select is-small">
                  <select name="type">
                    <option value="ajax">AJAX</option>
                    <option value="xhr">XHR</option>
                    <option value="axios">AXIOS</option>
                    <option value="fetch">FETCH</option>
                  </select>
                </div>
              </div>
              <div class="control">
                <div class="select is-small">
                  <select name="method">
                    <option value="GET">GET</option>
                    <option value="POST">POST</option>
                  </select>
                </div>
              </div>
              <div class="control is-expanded">
                <input
                  name="requestUrl"
                  class="input is-small"
                  type="text"
                  placeholder="Enter request URL"
                />
              </div>
              <div class="control">
                <a class="button is-small is-info">
                  Send
                </a>
                <input type="submit" value="submit" hidden/>
              </div>
            </div>
          </div>
          <div class="section-item is-tabbed flex flex-column" id="request">
            <div class="tabs is-small custom-tabs">
              <ul>
                <li class="is-active"><a onclick="openTab(event, '#request', 0)">Params</a></li>
                <li class="is-disabled"><a onclick="/* openTab(event, '#request', 1) */">Authorization</a></li>
                <li><a onclick="openTab(event, '#request', 2)">Headers</a></li>
                <li><a onclick="openTab(event, '#request', 3)">Body</a></li>
                <li class="is-disabled"><a onclick="/* openTab(event, '#request', 4) */">Pre-request Script</a></li>
                <li class="is-disabled"><a onclick="/* openTab(event, '#request', 5) */">Tests</a></li>
                <li class="is-disabled"><a onclick="/* openTab(event, '#request', 6) */">Settings</a></li>
              </ul>
            </div>
            <div class="content-list flex-grow">
              <div class="content-list-item is-active">
                <div class="field custom-field">
                  <label class="label is-small" for="params">Query Params</label>
                  <div class="control">
                    <textarea
                      class="textarea is-small"
                      name="params"
                      placeholder="Rows are separated by new lines. Keys and values are separated by colon"></textarea>
                  </div>
                </div>
              </div>
              <div class="content-list-item">
                Authorization Content
              </div>
              <div class="content-list-item">
                <div class="field custom-field">
                  <label class="label is-small" for="headers">Headers</label>
                  <div class="control">
                    <textarea
                      class="textarea is-small"
                      name="headers"
                      rows="6"
                      placeholder="Rows are separated by new lines. Keys and values are separated by colon"></textarea>
                  </div>
                </div>
              </div>
              <div class="content-list-item">
                <div class="field custom-field">
                  <label class="label is-small" for="body">Body</label>
                  <div class="control">
                    <textarea
                      class="textarea is-small"
                      name="body"
                      rows="6"
                      placeholder="Rows are separated by new lines. Keys and values are separated by colon"></textarea>
                  </div>
                </div>
              </div>
              <div class="content-list-item">
                Pre-request Script Content
              </div>
              <div class="content-list-item">
                Tests Content
              </div>
              <div class="content-list-item">
                Settings Content
              </div>
            </div>
          </div>
          <div class="section-item is-tabbed flex flex-column" id="response">
            <div class="tabs is-small custom-tabs">
              <ul>
                <li class="is-active"><a onclick="openTab(event, '#response', 0)">Body</a></li>
                <li><a onclick="openTab(event, '#response', 1)">Cookies</a></li>
                <li><a onclick="openTab(event, '#response', 2)">Headers</a></li>
                <li class="is-disabled"><a onclick="/* openTab(event, '#response', 3) */">Test Results</a></li>
                <div class="response-tabs-info">
                  Status: <span class="has-text-success">200 OK</span>
                  Time: <span class="has-text-danger">436ms</span>
                  Size: <span class="has-text-warning">1.61KB</span>
                </div>
              </ul>
            </div>
            <div class="content-list flex-grow">
              <div class="content-list-item is-active">Body</div>
              <div class="content-list-item">Cookies</div>
              <div class="content-list-item">Headers</div>
              <div class="content-list-item">Test Results</div>
            </div>
          </div>
        </form>
      </div>
    </section>
    <script>
      function openTab(evt, contentId, tabIndex) {
        const tabsItems = document.querySelectorAll(`${contentId} .tabs ul li`);
        const contentItems = document.querySelectorAll(`${contentId} .content-list-item`);

        for (let i = 0; i < tabsItems.length; i += 1) {
          const tabItem = tabsItems[i];
          const contentItem = contentItems[i];

          if (i === tabIndex) {
            tabItem.classList.add('is-active');
            contentItem.classList.add('is-active');
          } else {
            tabItem.classList.remove('is-active');
            contentItem.classList.remove('is-active');
          }
        }
      }

      function submit() {
        const requestForm = document.getElementById('requestForm');
        const formValues = JSON.stringify(Object.fromEntries(new FormData(requestForm)));

        console.log('formValues', formValues);
        alert('submitted');
      }
    </script>
  </body>
</html>
